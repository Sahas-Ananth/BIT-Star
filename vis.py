import cv2
import numpy as np

path = [
    (635, 140),
    (598.0038741764342, 171.32898763652588),
    (575.8828239, 166.4704214),
    (568.8520828210545, 173.22529846166137),
    (539.6258102728793, 187.30567186808574),
    (484.9654209, 190.5409749),
    (428.8742358, 187.930538),
    (392.4797846, 192.2966827),
    (297.9432679, 204.7201941),
    (284.992753, 226.0656544),
    (272.3471152354237, 256.00050246770945),
    (238.4665328, 277.0994542),
    (227.7142709, 292.2697734),
    (226.78502905912418, 356.5535009422237),
    (221.8614841, 434.4330007),
    (216.51399553519954, 454.1344146973525),
    (248.80665884271514, 463.10096057911807),
    (284.4549166, 462.9101713),
    (319.181361498704, 473.1375066581115),
    (331.173578, 454.4572161),
    (346.8465449, 433.5021362),
    (350, 400),
]

grid = (cv2.imread("./gridmaps/occupancy_map.png") / 255).astype(np.uint8)

for (x1, y1), (x2, y2) in zip(path[0:-1], path[1:]):
    cv2.line(grid, (int(y1), int(x1)), (int(y2), int(x2)), (0, 0, 1), 2)
    cv2.circle(grid, (int(y1), int(x1)), 2, (1, 0, 0), 2)
    cv2.circle(grid, (int(y2), int(x2)), 2, (1, 0, 0), 2)

(ys, xs), (ye, xe) = path[0], path[-1]
cv2.circle(grid, (int(xs), int(ys)), 2, (1, 1, 0), 2)
cv2.circle(grid, (int(xe), int(ye)), 2, (0, 1, 0), 2)

cv2.imshow("grid", grid * 255)
cv2.imwrite("./Output/Inefficent_bit_star_grid.png", grid * 255)

if cv2.waitKey(0) & 0xFF == ord("q"):
    cv2.destroyAllWindows()
